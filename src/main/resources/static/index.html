<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title>java-angular-websocket-chat</title>

    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css">

    <script src="/js/lib/angular.min.js"></script>
    <script src="/js/lib/angular-animate.min.js"></script>
    <script src="/js/lib/angular-aria.min.js"></script>
    <script src="/js/lib/angular-cookies.min.js"></script>
    <script src="/js/lib/angular-loader.min.js"></script>
    <script src="/js/lib/angular-message-format.min.js"></script>
    <script src="/js/lib/angular-messages.min.js"></script>
    <script src="/js/lib/angular-parse-ext.min.js"></script>
    <script src="/js/lib/angular-resource.min.js"></script>
    <script src="/js/lib/angular-route.min.js"></script>
    <script src="/js/lib/angular-sanitize.min.js"></script>
    <script src="/js/lib/angular-touch.min.js"></script>

    <script src="/js/lib/sockjs-0.3.4.min.js"></script>
    <script src="/js/lib/stomp.min.js"></script>

    <script src="/js/app.js"></script>
</head>
<body>
<div ng-controller="MessageListController as messageList" class="container-fluid">
    <h1 class="page-header">My first chat on Angular 1.5 and WebSocket</h1>

    <form class="form-group row" ng-submit="messageList.login()" ng-show="!messageList.username">
        <div class="col-md-11">
            <input ng-model="messageList.author" placeholder="Введите ваше имя" class="form-control"/>
        </div>
        <div class="col-md-1">
            <button type="submit" class="btn btn-default btn-block">Войти</button>
        </div>
    </form>

    <div ng-show="messageList.username">
        <p>Пользователь: {{messageList.username}}</p>

        <div class="form-group">
            <textarea class="form-control" ng-model="messageList.text" placeholder="Введите сообщение" rows="3"
                      my-enter="messageList.sendMessage()"></textarea>
        </div>
        <form ng-submit="messageList.sendMessage()" class="form-group pull-right">
            <button type="submit" class="btn btn-default">Отправить сообщение</button>
        </form>
        <div ng-repeat="message in messageList.messages">
            <p>[{{message.date}}] - {{message.author}}: {{message.text}}</p>
        </div>
    </div>
</div>
</body>
</html>